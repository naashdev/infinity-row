/*!
* InfinityRow;
* version: 2.0.0
* http://naashdev.net
* Copyright (c) 2016 N. Talbot; Dual licensed: MIT/GPL
*/
!function(t){var e={init:function(e,o){function i(e,o){var i=e.offset().left;return!!(i+o>t(window).width())}var r=this;if($body=t("body"),r.$el=t(o),r.options=t.extend(t.fn.infinityRow.options,e),null!=r.options.row_backward&&null!=r.options.row_forward||console.log("========= InifityRow - you must set a backward and forward button when initiliazing ========="),r.elems={$items:r.$el.children(r.options.items),$backward:t(r.options.row_backward),$forward:t(r.options.row_forward)},r.$el.attr("data-step",1).css({transform:"translate3d(0px, 0px, 0px)"}),r.elems.$backward.attr("data-trigger","row-backward"),r.elems.$forward.attr("data-trigger","row-forward"),r.calc_env(),1==r.options.fallback&&r.flexbox_fallback(),t(r.options.row_backward+", "+r.options.row_forward).on("click",function(e){e.preventDefault();var o=t(this).data("trigger");r.$el.trigger(o)}),r.$el.on("row-forward row-backward",function(t){var e=r.$el.data("step"),o="row-forward"===t.type?e+1:e-1;("row-backward"===t.type&&e>1||"row-forward"===t.type&&o<=r.elems.$items.length&&i(r.elems.$items.last(),r.threshold))&&(r.$el.data("step",o).attr("data-step",o),r.slide_items(o))}),r.options.resize){var a;t(window).resize(function(){clearTimeout(a),a=setTimeout(function(){r.calc_env(),1==r.options.fallback&&r.flexbox_fallback()},200)})}},slide_items:function(t){var e=this,o=e.threshold*(t-1);e.$el.css({transform:"translate3d(-"+o+"px, 0px, 0px)"})},calc_env:function(){var e=this;e.env={window_x:t(window).width(),row_x:e.$el.width(),item_x:e.elems.$items.width()},e.threshold=(e.env.window_x-e.env.row_x)/2+e.env.item_x},flexbox_fallback:function(){var e=this;if("object"==typeof Modernizr&&!Modernizr.flexbox){var o=e.elems.$items.outerWidth(),i=0,r=0;largest_item_height=0,$body.css({overflowX:"hidden"}),e.elems.$items.each(function(){r++,largest_item_height<t(this).outerHeight()&&(largest_item_height=t(this).outerHeight()),i=r>1?i+o:0,t(this).css({position:"absolute",left:i+"px"})}),e.$el.css({height:largest_item_height})}}};t.fn.infinityRow=function(t){return this.each(function(){var o=Object.create(e);o.init(t,this)})},t.fn.infinityRow.options={items:"div",row_backward:null,row_forward:null,resize:!0,fallback:!1}}(jQuery,window,document);